## 变量-作用域-内存

### 1. 变量分为哪几种类型？有什么区别？
变量分为基础数据类型和引用类型。
基础数据类型有：Undefined、Null、String、Number、Boolean和ES6的Symbol类型。
引用类型有：Object、Array和Function。
他们最大的区别是基础类型值是按值访问，而引用类型值是按引用访问。基础类型值只是简单的数据段，而引用类型值是保存在内存中的对象。
当复制不同类型时，基础类型值相互独立，不受影响。而引用类型值复制的只是对象的引用指针，指针指向存储在堆中的一个对象，因此他们之间共享一个内存引用。

- 引申问题：如果参数是传递的引用类型，那我们在function内部对参数的改变会影响外部嘛？
> 参数的传递是按值传递，当传递的是基本类型值时，被传递的值会复制给这个局部变量。但是当传递的是引用类型值时，会把这个值的引用指针复制给局部变量，因此局部变量的变化会反应在函数的外部。但是！当我们在函数内部去改变这个局部变量的引用时，原始的引用就保存不变了。

### 2. 如何检测一个变量是什么类型？
我们通常用typeof检测基本类型值，用instanceof检测引用类型值，用instanceof可以判断一个变量是否是基本类型值，不是的话，会返回false。但是typeof判断引用类型值，就都会返回object。
但是所有的引用类型值其实都是object的实例，instanceof操作符始终会返回true。

### 3. 如何理解作用域和作用域链？
Javascript的作用域限定了代码中变量对象可访问的有效范围。作用域外无法访问当前作用域下的变量对象。作用域是在代码被执行前被创建的，在ES6之前，JS采用的是函数作用域，下层函数可以访问或覆盖上层的变量，而上层函数无法访问下层的变量。一直到ES6推出了块级作用域的概念。
而代码在一个环境执行时，会创建用于搜索变量和函数的作用域链。他的用途是保证当前执行环境对变量和函数的有序访问。
作用域链的前端是当前执行代码所在环境的变量对象，下一级是来自下一个包含环境的变量对象，一直延伸下去到全局执行环境，所以全局变量像Math、BOM对象等一直是作用域链的最顶端。